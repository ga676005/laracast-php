# PHP Git Bash Setup Guide for Windows

## Problem
When PHP is installed via Laragon (or similar Windows PHP installations), Git Bash cannot find the `php` command even though it's in your PATH. This happens because:

1. Git Bash looks for `php.bat` files (Windows batch files)
2. PHP installations typically only provide `php.exe` files
3. Git Bash has trouble resolving `.exe` files through PATH aliases

## Solution Overview
Create a `php.bat` wrapper file that calls `php.exe`, allowing Git Bash to find and execute PHP commands.

## Step-by-Step Setup

### Prerequisites
- PHP installed (e.g., via Laragon)
- PHP directory added to Windows PATH
- Git Bash installed

### Step 1: Locate Your PHP Installation
Find your PHP installation directory. Common locations:
- Laragon: `C:\laragon\bin\php\php-8.x.x-nts-Win32-vs17-x64\`
- XAMPP: `C:\xampp\php\`
- WAMP: `C:\wamp64\bin\php\php8.x.x\`

### Step 2: Verify PHP is in PATH
Open PowerShell and verify PHP is accessible:
```powershell
php -v
```
This should show your PHP version.

### Step 3: Create php.bat Wrapper
Navigate to your PHP installation directory and create a `php.bat` file:

**Method A: Using PowerShell (Recommended)**
```powershell
# Replace with your actual PHP path
$phpPath = "C:\laragon\bin\php\php-8.4.5-nts-Win32-vs17-x64"
@"
@echo off
php.exe %*
"@ | Out-File -FilePath "$phpPath\php.bat" -Encoding ASCII
```

**Method B: Manual Creation**
1. Open Notepad
2. Create a new file with this content:
   ```batch
   @echo off
   php.exe %*
   ```
3. Save as `php.bat` in your PHP installation directory
4. Make sure it's saved as "All Files" type, not .txt

### Step 4: Verify the Setup
Test in Git Bash:
```bash
php -v
```

This should now work and display your PHP version.

## Files Created/Modified

### Files Created:
- `[PHP_DIRECTORY]\php.bat` - Wrapper script that calls php.exe

### Files That May Need Editing:
- `~/.bash_profile` - May contain PHP aliases (usually auto-generated by development tools)

## Troubleshooting

### Issue: Still getting "php.bat: command not found"
**Solutions:**
1. Restart Git Bash completely
2. Check that `php.bat` is in the correct directory
3. Verify the file content is exactly:
   ```batch
   @echo off
   php.exe %*
   ```

### Issue: "php.exe: command not found" when running php.bat
**Cause:** The `php.bat` file is not in the same directory as `php.exe`
**Solution:** Ensure both files are in the same directory

### Issue: Permission denied
**Solution:** Run Git Bash as Administrator or check file permissions

## Alternative Solutions

### Option 1: Modify .bash_profile Alias
If you prefer to use the full path, edit `~/.bash_profile`:
```bash
# Change this line:
alias php="php.bat"
# To this:
alias php="/mnt/c/laragon/bin/php/php-8.4.5-nts-Win32-vs17-x64/php.exe"
```
**Note:** This is less portable and more fragile.

### Option 2: Use Full Path Directly
Instead of aliases, use the full path:
```bash
/mnt/c/laragon/bin/php/php-8.4.5-nts-Win32-vs17-x64/php.exe -v
```

## Why This Works

1. **Git Bash Compatibility**: Git Bash can find and execute `.bat` files reliably
2. **Path Resolution**: The batch file handles Windows path resolution internally
3. **Argument Passing**: `%*` passes all arguments from the batch file to the executable
4. **No Path Translation Issues**: Avoids Git Bash's path translation problems with `.exe` files

## Maintenance

- **PHP Updates**: When updating PHP, you may need to recreate the `php.bat` file in the new directory
- **Path Changes**: If you move PHP or change PATH, update the `php.bat` file location
- **Multiple PHP Versions**: Each PHP installation needs its own `php.bat` file

## Verification Commands

Test your setup with these commands in Git Bash:
```bash
# Basic version check
php -v

# Check PHP configuration
php -i

# Run a simple PHP script
php -r "echo 'Hello from Git Bash!';"

# Check if Composer works (if installed)
composer --version
```

## Summary

The `php.bat` wrapper approach is the most reliable solution for using PHP with Git Bash on Windows. It's simple, portable, and handles the compatibility issues between Git Bash and Windows executables.
